
<!-- Diagram-page layout -->
<div id="diagram-page">
   <div id="diagram-select" class="faux-select" action="$('#diagram-choices').toggle()">
      <ul id="diagram-choices" class="faux-select-options"></ul>
      <span id="diagram-choice" class="faux-selection">Generate diagram</span>
      <div class="faux-select-arrow"></div>
   </div>
   <template id="diagram-select-first-template">
      <li action="DC.DiagramChoice.selectDiagram()">${MathML.sans('<mtext>Generate diagram</mtext>')}</li>
   </template>
   <template id="diagram-select-other-template">
      <li action="DC.DiagramChoice.selectDiagram('${diagram.name}')">${MathML.sans('<mtext>' + diagram.name + '</mtext>')}</li>
   </template>

   <div id="generation-control">
      <div class="graphic-lead">Generate diagram this way:</div>
      <div id="generation-strategy" style="position: relative">
         <table>
            <thead>
               <tr>
                  <th></th>
                  <th>Generator</th>
                  <th>Axis</th>
                  <th>Order</th>
               </tr>
            </thead>
            <tbody id="generation-table">
            </tbody>
         </table>

         <div id="generation-fog" class="fog hidden"></div>

         <!-- Templates for generation-strategy table -->
         <template id="generation-template">
            <tr>
               <td draggable="true">${inx+1}</td>
               <td action="DC.Generator.showGeneratorMenu(event, ${inx})">
                  ${MathML.sans(group.representation[strategy.generator])}
               </td>
               <td action="DC.Generator.showAxisMenu(event, ${inx})">
                  <img src="./images/${DC.Generator.axis_image[strategy.layout][strategy.direction]}">
                  ${DC.Generator.axis_label[strategy.layout][strategy.direction]}
               </td>
               <td action="DC.Generator.showOrderMenu(event, ${inx})">
                  ${DC.Generator.orders[num_strategies][strategy.nesting_level]}
               </td>
            </tr>
         </template>
         <template id="generation-menu-template">
            <ul id="generation-list" class="menu">
               <hr>
               <li>${MathML.sans('<mtext>Organize by&nbsp;&nbsp;</mtext>')}<span class="menu-arrow"></span>
                  <ul id="generation-organize-menu"></ul>
               </li>
            </ul>
         </template>
         <template id="generator-menu-item-template">
            <li action="DC.Generator.updateGenerator(${strategy_index}, ${generator})"></li>
         </template>
         <template id="organize-menu-item-template">
            <li action="DC.Generator.organizeBy(${inx})">
               ${MathML.sans(MathML.sub('H', inx))}${MathML.sans('<mtext>, a subgroup of order</mtext>')}
               ${MathML.sans('<mn>' + subgroup.order + '</mn>')}</li>
         </template>
         <template id="axis-menu-template">
            <li action="DC.Generator.updateAxes(${strategy_index}, 0, 0)">${DC.Generator.axis_label[0][0]}</li>
            <li action="DC.Generator.updateAxes(${strategy_index}, 0, 1)">${DC.Generator.axis_label[0][1]}</li>
            <li action="DC.Generator.updateAxes(${strategy_index}, 0, 2)">${DC.Generator.axis_label[0][2]}</li>
            <div class="${curvable ? '' : 'hidden'}">
               <li action="DC.Generator.updateAxes(${strategy_index}, 1, 2)">${DC.Generator.axis_label[1][2]}</li>
               <li action="DC.Generator.updateAxes(${strategy_index}, 1, 1)">${DC.Generator.axis_label[1][1]}</li>
               <li action="DC.Generator.updateAxes(${strategy_index}, 1, 0)">${DC.Generator.axis_label[1][0]}</li>
               <li action="DC.Generator.updateAxes(${strategy_index}, 2, 2)">${DC.Generator.axis_label[2][2]}</li>
               <li action="DC.Generator.updateAxes(${strategy_index}, 2, 1)">${DC.Generator.axis_label[2][1]}</li>
               <li action="DC.Generator.updateAxes(${strategy_index}, 2, 0)">${DC.Generator.axis_label[2][0]}</li>
            </div>
         </template>
         <template id="order-menu-item-template">
            <li action="DC.Generator.updateOrder(${strategy_index}, ${order})">
               ${DC.Generator.orders[num_strategies][order]}</li>
         </template>
      </div>
   </div>

   <div id="arrow-control">
      <div class="graphic-lead">Show these arrows:</div>
      <div class="horiz">
         <div id="arrow-display">
            <ul id="arrow-list"></ul>
            <template id="arrow-list-item-template">
               <li arrow="${element}" color="${color}" action="DC.Arrow.selectArrow(${element})"><hr style="border: 2px solid ${color}">
                  ${MathML.sans(group.representation[element])}</li>
            </template>
         </div>
         <div id="arrow-buttons" class="vert">
            <button id="add-arrow-button" action="DC.Arrow.showArrowMenu(event)">Add</button>
            <button id="remove-arrow-button" action="DC.Arrow.removeArrow()" disabled>Remove</button>
         </div>
         <template id="arrow-menu-template">
            <ul id="arrow-menu" class="menu" style="min-width: 80px"></ul>
         </template>
         <template id="arrow-menu-item-template">
            <li action="DC.Arrow.addArrow(${element})"></li>
         </template>
      </div>
   </div>

   <form id="multiplication-control" class="graphic-lead" style="margin-bottom: 0">
      Arrows mean
      <div>
         <input name="multiplication" type="radio" id="right" onclick="DC.ArrowMult.setMult('right')" checked>
         <label for="right">right multiplication</label>
      </div>
      <div>
         <input name="multiplication" type="radio" id="left" onclick="DC.ArrowMult.setMult('left')">
         <label for="left">left multiplication</label>
      </div>
   </form>

   <div id="chunk-control" style="position: relative">
      <div class="graphic-lead">Chunk this subgroup:</div>
      <div id="chunk-select" class="faux-select" action="$('#chunk-choices').toggle()">
         <ul id="chunk-choices" class="faux-select-options"></ul>
         <span id="chunk-choice" class="faux-selection">(no chunking)</span>
         <div class="faux-select-arrow"></div>
      </div>

      <template id="chunk-select-first-template">
         <li action="DC.Chunking.selectChunk(-1)">${MathML.sans('<mtext>(no chunking)</mtext>')}</li>
      </template>
      <template id="chunk-select-other-template">
         <li action="DC.Chunking.selectChunk(${strategy_index})">
            ${MathML.sans(MathML.sub('H', subgroup_index))}${MathML.sans('<mtext>, generated by</mtext>')}
            ${MathML.setList(generators)}

         </li>
      </template>
      <template id="chunk-select-last-template">
         <li action="DC.Chunking.selectChunk(${Cayley_diagram.strategies.length-1})">${MathML.sans('<mtext>The whole group</mtext>')}</li>
      </template>

      <div id="chunking-fog" class="fog hidden"></div>
   </div>
</div>
