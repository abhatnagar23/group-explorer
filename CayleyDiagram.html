<!--
     Cayley diagram visualizer
-->
<html>
   <head>
      <link rel="icon" type="image/png" href="./images/favicon.png"></link>
      <link rel="stylesheet" href="./style/fonts.css" type="text/css"></link>
      <link rel="stylesheet" href="./style/menu.css" type="text/css"></link>
      <link rel="stylesheet" href="./style/sliders.css" type="text/css"></link>
      <link rel="stylesheet" href="./visualizerFramework/visualizer.css" type="text/css"></link>
      <link rel="stylesheet" href="./subsetDisplay/subsets.css" type="text/css"></link>
      <link rel="stylesheet" href="./diagramController/diagram.css" type="text/css"></link>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">

      <style>
       #vert-container {
          min-width: 20em;  /* Ensure room for diagram-control graphic */
       }

       #view-control, #diagram-control {
          display: none;  /* hidden initially, renders faster */
       }

       #tooltip {
          background-color: #FFFFD6;		/* light yellow (matches subset display) */
          border: 1px solid #CFCFCF;		/* ~silver */
          box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);	/* gray mist */
          color: #000000;
          font-size: medium;
          font-style: normal;
          font-weight: normal;
          padding: 1em;
          position: fixed;
          z-index: 1;
          white-space: nowrap;
          list-style-type: none;
          visibility: visible;
       }
       #tooltip ul {
          margin: 0;
          padding-inline-start: 1em;
       }
      </style>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
      <script type="text/x-mathjax-config">
       MathJax.Hub.Config({
          CommonHTML: {
             scale: 90,   /* scale MathJax to match the HTML around it */
          },
          showMathMenu: false,   /* disable MathJax context menu (it interferes with subsetDisplay context menu) */
       });
      </script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=MML_CHTML"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/95/three.js"></script>
      <script>module = { };</script>
      <script src="https://cdn.jsdelivr.net/npm/three-trackballcontrols@0.0.7/index.js"></script>
      <script>THREE.TrackballControls = module.exports;</script>
      <script src="https://cdn.jsdelivr.net/npm/jquery-resizable-dom@0.32.0/dist/jquery-resizable.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/three.meshline@1.2.0/src/THREE.MeshLine.js"></script>
      <script src="./build/allGroupExplorer.js"></script>
      <script src="./build/allVisualizer.js"></script>
      <script src="./CayleyDiagram.js"></script>
   </head>
   <body class="vert">
      <div id="control-options" class="horiz">
         <button id="subset-button">Subsets</button>
         <button id="view-button">View</button>
         <button id="diagram-button">Diagram</button>
      </div>

      <div id="subset-control" class="fill-vert">
         <!-- This is filled in by subsetDisplay/subsets.html -->
      </div>

      <div id="view-control" class="vert fill-vert control">
         <!-- This is filled in by cayleyViewController/view.html -->
      </div>

      <div id="diagram-control" class="fill-vert control">
         <!-- This is filled in by diagramController/diagram.html -->
      </div>
   </body>

   <!-- Extension templates for highlighting control menus in subsetDisplay -->
   <template class="subgroup-extension subset-extension partition-extension">
      <li>Highlight item by<span class="menu-arrow"></span>
         <ul>
            <li action="highlightByNodeColor([${this.elementString}])">
               <img src="./images/hightype-sphere-node.jpg">&nbsp;Node color
            </li>
            <li action="highlightByRingAroundNode([${this.elementString}])">
               <img src="./images/hightype-sphere-ring.jpg">&nbsp;Ring around node
            </li>
            <li action="highlightBySquareAroundNode([${this.elementString}])">
               <img src="./images/hightype-sphere-square.jpg">&nbsp;Square around node
            </li>
         </ul>
      </li>
   </template>

   <template class="partition-extension">
      <li>Highlight partition by<span class="menu-arrow"></span>
         <ul>
            <li action="highlightByNodeColor(${this.parent.allElementString})">
               <img src="./images/hightype-sphere-node.jpg">&nbsp;Node color
            </li>
            <li action="highlightByRingAroundNode(${this.parent.allElementString})">
               <img src="./images/hightype-sphere-ring.jpg">&nbsp;Ring around node
            </li>
            <li action="highlightBySquareAroundNode(${this.parent.allElementString})">
               <img src="./images/hightype-sphere-square.jpg">&nbsp;Square around node
            </li>
         </ul>
      </li>
   </template>

   <template class="subgroup-extension subset-extension partition-extension">
      <li action="clearHighlights()">Clear all highlighting</li>
   </template>

   <!-- Templates for tooltips -->
   <template id="single-object_template">
      <div id="tooltip">${first}</div>
   </template>

   <template id="double-object_template">
      <div id="tooltip">
         <b>In front:</b> ${first}<br>
         <b>Behind:</b> ${others[0]}
      </div>
   </template>

   <template id="multi-object_template">
      <div id="tooltip">
         <b>In front:</b> ${first}<br>
         <b>Others behind:</b>
         <ul></ul>
      </div>
   </template>
</html>
